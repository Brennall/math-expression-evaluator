/* 
 * The MIT License (MIT)
 * 
 * Copyright (c) Ankit
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:</p>
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/** math-expression-evaluator version 1.2.17
 Dated:2017-05-05 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.mexp=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./postfix_evaluator.js");d.formulaEval=function(a){"use strict";if(a instanceof SyntaxError)return a;for(var b,c,d,e=[],f=a,g=0;g<f.length;g++)1===f[g].type||3===f[g].type?e.push({value:3===f[g].type?f[g].show:f[g].value,type:1}):13===f[g].type?e.push({value:f[g].show,type:1}):0===f[g].type?e[e.length-1]={value:f[g].show+("-"!==f[g].show?"(":"")+e[e.length-1].value+("-"!==f[g].show?")":""),type:0}:7===f[g].type?e[e.length-1]={value:(1!==e[e.length-1].type?"(":"")+e[e.length-1].value+(1!==e[e.length-1].type?")":"")+f[g].show,type:7}:10===f[g].type?(b=e.pop(),c=e.pop(),"P"===f[g].show||"C"===f[g].show?e.push({value:"<sup>"+c.value+"</sup>"+f[g].show+"<sub>"+b.value+"</sub>",type:10}):e.push({value:(1!==c.type?"(":"")+c.value+(1!==c.type?")":"")+"<sup>"+b.value+"</sup>",type:1})):2===f[g].type||9===f[g].type?(b=e.pop(),c=e.pop(),e.push({value:(1!==c.type?"(":"")+c.value+(1!==c.type?")":"")+f[g].show+(1!==b.type?"(":"")+b.value+(1!==b.type?")":""),type:f[g].type})):12===f[g].type&&(b=e.pop(),c=e.pop(),d=e.pop(),e.push({value:f[g].show+"("+d.value+","+c.value+","+b.value+")",type:12}));return e[0].value},d.feval=function(a,b){return"undefined"==typeof b?d.formulaEval(d.toPostfix(d.lex(a))):d.formulaEval(d.toPostfix(d.lex(a,b)))},b.exports=d},{"./postfix_evaluator.js":5}],2:[function(a,b,c){function d(a,b,c,d){for(var e=0;e<d;e++)if(a[c+e]!==b[e])return!1;return!0}var e=a("./math_function.js"),f=["sin","cos","tan","pi","(",")","P","C","asin","acos","atan","7","8","9","int","cosh","acosh","ln","^","root","4","5","6","/","!","tanh","atanh","Mod","1","2","3","*","sinh","asinh","e","log","0",".","+","-",",","Sigma","n","Pi","pow"],g=["sin","cos","tan","&pi;","(",")","P","C","asin","acos","atan","7","8","9","Int","cosh","acosh"," ln","^","root","4","5","6","&divide;","!","tanh","atanh"," Mod ","1","2","3","&times;","sinh","asinh","e"," log","0",".","+","-",",","&Sigma;","n","&Pi;","pow"],h=[e.math.sin,e.math.cos,e.math.tan,"PI","(",")",e.math.P,e.math.C,e.math.asin,e.math.acos,e.math.atan,"7","8","9",Math.floor,e.math.cosh,e.math.acosh,Math.log,Math.pow,Math.sqrt,"4","5","6",e.math.div,e.math.fact,e.math.tanh,e.math.atanh,e.math.mod,"1","2","3",e.math.mul,e.math.sinh,e.math.asinh,"E",e.math.log,"0",".",e.math.add,e.math.sub,",",e.math.sigma,"n",e.math.Pi,Math.pow],i={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0},j=[0,0,0,3,4,5,10,10,0,0,0,1,1,1,0,0,0,0,10,0,1,1,1,2,7,0,0,2,1,1,1,2,0,0,3,0,1,6,9,9,11,12,13,12,8],k={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0},l={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},m={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},n={},o={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},p={1:!0},q=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];e.addToken=function(a){for(var b=0;b<a.length;b++){var c=a[b].token.length,d=-1;if(c<q.length)for(var e=0;e<q[c].length;e++)if(a[b].token===q[c][e]){d=f.indexOf(q[c][e]);break}d===-1?(f.push(a[b].token),j.push(a[b].type),q.length<=a[b].token.length&&(q[a[b].token.length]=[]),q[a[b].token.length].push(a[b].token),h.push(a[b].value),g.push(a[b].show)):(f[d]=a[b].token,j[d]=a[b].type,h[d]=a[b].value,g[d]=a[b].show)}},e.lex=function(a,b){"use strict";var c,r,s,t,u={value:e.math.changeSign,type:0,pre:21,show:"-"},v={value:")",show:")",type:5,pre:0},w={value:"(",pre:0,type:4,show:"("},x=[w],y=[],z=a,A=0,B=-1,C=k,D=0,E=n,F="";"undefined"!=typeof b&&e.addToken(b);var G={};for(r=0;r<z.length;r++)if(" "!==z[r]){for(c="",s=z.length-r>q.length-2?q.length-1:z.length-r;s>0;s--)for(t=0;t<q[s].length;t++)d(z,q[s][t],r,s)&&(c=q[s][t],t=q[s].length,s=0);if(r+=c.length-1,""===c)return new SyntaxError("Can't understand after "+z.slice(r));var H,I=f.indexOf(c),J=c,K=j[I],L=h[I],M=i[K],N=g[I],O=x[x.length-1];for(H=B+1;H--&&0===y[H];)if([0,2,3,5,9,11,12,13].indexOf(K)!==-1){if(C[K]!==!0)return new SyntaxError(c+" is not allowed after "+F);x.push(v),C=l,E=o,y[--B]--}if(C[K]!==!0)return new SyntaxError(c+" is not allowed after "+F);if(E[K]===!0&&(K=2,L=e.math.mul,N="&times;",M=3,r-=c.length),G={value:L,type:K,pre:M,show:N},0===K)C=k,E=n,y.push(2),B++,x.push(G),x.push(w);else if(1===K)1===O.type?(O.value+=L,y[B]++):x.push(G),C=l,E=m;else if(2===K)C=k,E=n,y[B]+=2,x.push(G);else if(3===K)x.push(G),C=l,E=o;else if(4===K)A+=B+1,y=[],B=-1,D++,C=k,E=n,x.push(G);else if(5===K){if(!D)return new SyntaxError("Closing parenthesis are more than opening one, wait What!!!");for(;A--;)x.push(v);A=0,D--,C=l,E=o,x.push(G)}else if(6===K){if(O.hasDec)return new SyntaxError("Two decimals are not allowed in one number");1!==O.type&&(O={value:0,type:1,pre:0},x.push(O),y[B]--),C=p,y[B]++,E=n,O.value+=L,O.hasDec=!0}else 7===K&&(C=l,E=o,y[B]++,x.push(G));8===K?(C=k,E=n,y.push(4),B++,x.push(G),x.push(w)):9===K?(9===O.type?O.value===e.math.add?(O.value=L,O.show=N,y[B]++):O.value===e.math.sub&&"-"===N&&(O.value=e.math.add,O.show="+",y[B]++):5!==O.type&&7!==O.type&&1!==O.type&&3!==O.type&&13!==O.type?"-"===J&&(C=k,E=n,y.push(2),B++,x.push(u),x.push(w)):(x.push(G),y[B]+=2),C=k,E=n):10===K?(C=k,E=n,y[B]+=2,x.push(G)):11===K?(C=k,E=n,x.push(G)):12===K?(C=k,E=n,y.push(6),B++,x.push(G),x.push(w)):13===K&&(C=l,E=o,x.push(G)),y[B]--,F=c}for(H=B+1;H--&&(0===y[H]||1===y[H]);)x.push(v),B--;if(C[5]!==!0)return new SyntaxError("complete the expression");for(;D--;)x.push(v);return x.push(v),x},b.exports=e},{"./math_function.js":3}],3:[function(a,b,c){var d={};d.math={isDegree:!0,acos:function(a){return d.math.isDegree?180/Math.PI*Math.acos(a):Math.acos(a)},add:function(a,b){return a+b},asin:function(a){return d.math.isDegree?180/Math.PI*Math.asin(a):Math.asin(a)},atan:function(a){return d.math.isDegree?180/Math.PI*Math.atan(a):Math.atan(a)},acosh:function(a){return Math.log(a+Math.sqrt(a*a-1))},asinh:function(a){return Math.log(a+Math.sqrt(a*a+1))},atanh:function(a){return Math.log((1+a)/(1-a))},C:function(a,b){var c=1,e=a-b,f=b;f<e&&(f=e,e=b);for(var g=f+1;g<=a;g++)c*=g;return c/d.math.fact(e)},changeSign:function(a){return-a},cos:function(a){return d.math.isDegree&&(a=d.math.toRadian(a)),Math.cos(a)},cosh:function(a){return(Math.pow(Math.E,a)+Math.pow(Math.E,-1*a))/2},div:function(a,b){return a/b},fact:function(a){if(a%1!==0)return"NaN";for(var b=1,c=2;c<=a;c++)b*=c;return b},inverse:function(a){return 1/a},log:function(a){return Math.log(a)/Math.log(10)},mod:function(a,b){return a%b},mul:function(a,b){return a*b},P:function(a,b){for(var c=1,d=Math.floor(a)-Math.floor(b)+1;d<=Math.floor(a);d++)c*=d;return c},Pi:function(a,b,c){for(var e=1,f=a;f<=b;f++)e*=Number(d.postfixEval(c,{n:f}));return e},pow10x:function(a){for(var b=1;a--;)b*=10;return b},sigma:function(a,b,c){for(var e=0,f=a;f<=b;f++)e+=Number(d.postfixEval(c,{n:f}));return e},sin:function(a){return d.math.isDegree&&(a=d.math.toRadian(a)),Math.sin(a)},sinh:function(a){return(Math.pow(Math.E,a)-Math.pow(Math.E,-1*a))/2},sub:function(a,b){return a-b},tan:function(a){return d.math.isDegree&&(a=d.math.toRadian(a)),Math.tan(a)},tanh:function(a){return d.sinha(a)/d.cosha(a)},toRadian:function(a){return a*Math.PI/180}},b.exports=d},{}],4:[function(a,b,c){var d=a("./lexer.js");d.toPostfix=function(a){"use strict";if(a instanceof SyntaxError)return a;for(var b,c,d,e,f,g=[],h=[],i=a,j=0;j<i.length;j++)if(1===i[j].type||3===i[j].type||13===i[j].type)1===i[j].type&&(i[j].value=Number(i[j].value)),g.push(i[j]);else if(4===i[j].type)h.push(i[j]);else if(5===i[j].type)for(;4!==(c=h.pop()).type;)g.push(c);else if(11===i[j].type){for(;4!==(c=h.pop()).type;)g.push(c);h.push(c)}else{b=i[j],e=b.pre,f=h[h.length-1],d=f.pre;var k="Math.pow"===f.value&&"Math.pow"===b.value;if(e>d)h.push(b);else{for(;d>=e&&!k||k&&e<d;)c=h.pop(),f=h[h.length-1],g.push(c),d=f.pre,k="Math.pow"===b.value&&"Math.pow"===f.value;h.push(b)}}return g},b.exports=d},{"./lexer.js":2}],5:[function(a,b,c){var d=a("./postfix.js");d.postfixEval=function(a,b){"use strict";if(a instanceof SyntaxError)return a;b=b||{},b.PI=Math.PI,b.E=Math.E;for(var c,d,e,f=[],g=a,h="undefined"!=typeof b.n,i=0;i<g.length;i++)1===g[i].type?f.push({value:g[i].value,type:1}):3===g[i].type?f.push({value:b[g[i].value],type:1}):0===g[i].type?"undefined"==typeof f[f.length-1].type?f[f.length-1].value.push(g[i]):f[f.length-1].value=g[i].value(f[f.length-1].value):7===g[i].type?"undefined"==typeof f[f.length-1].type?f[f.length-1].value.push(g[i]):f[f.length-1].value=g[i].value(f[f.length-1].value):8===g[i].type?(c=f.pop(),d=f.pop(),f.push({type:1,value:g[i].value(d.value,c.value)})):10===g[i].type?(c=f.pop(),d=f.pop(),"undefined"==typeof d.type?(d.value=d.concat(c),d.value.push(g[i]),f.push(d)):"undefined"==typeof c.type?(c.unshift(d),c.push(g[i]),f.push(c)):f.push({type:1,value:g[i].value(d.value,c.value)})):2===g[i].type||9===g[i].type?(c=f.pop(),d=f.pop(),"undefined"==typeof d.type?(d=d.concat(c),d.push(g[i]),f.push(d)):"undefined"==typeof c.type?(c.unshift(d),c.push(g[i]),f.push(c)):f.push({type:1,value:g[i].value(d.value,c.value)})):12===g[i].type?(c=f.pop(),"undefined"!=typeof c.type&&(c=[c]),d=f.pop(),e=f.pop(),f.push({type:1,value:g[i].value(e.value,d.value,c)})):13===g[i].type&&(h?f.push({value:b[g[i].value],type:3}):f.push([g[i]]));return f.length>1?void 0:f[0].value>1e15?"Infinity":parseFloat(f[0].value.toFixed(15))},d.eval=function(a,b,c){return"undefined"==typeof b?d.postfixEval(d.toPostfix(d.lex(a))):"undefined"==typeof c?"undefined"!=typeof b.length?d.postfixEval(d.toPostfix(d.lex(a,b))):d.postfixEval(d.toPostfix(d.lex(a)),b):d.postfixEval(d.toPostfix(d.lex(a,b)),c)},b.exports=d},{"./postfix.js":4}]},{},[1])(1)});